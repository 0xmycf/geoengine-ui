<wave-sidenav-header>ChronicleDB</wave-sidenav-header>
<form [formGroup]="form" (ngSubmit)="$event.preventDefault();add()" fxLayout="column">
    <div fxFlex fxLayout="column" class="container">
        <wave-dialog-section-heading title="Query String"
                                     subtitle="Specify a query string"></wave-dialog-section-heading>
        <mat-form-field fxFlex>
            <textarea matInput formControlName="queryString" placeholder="Query String"></textarea>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Geometry Type</mat-label>
            <mat-select formControlName="resultType">
                <mat-option *ngFor="let resultType of validResultTypes" [value]="resultType">{{resultType}}</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-checkbox formControlName="clustered" *ngIf="resultTypeIsPoints$ | async">Clustered</mat-checkbox>
    </div>
    <div class="actions">
        <wave-operator-output-name formControlName="name"
                                   [suggestion]="'ChronincleDB Sensor Data'"></wave-operator-output-name>
        <button type="submit" mat-raised-button color="primary" [disabled]="isFormInvalid$ | async">
            Add
        </button>
    </div>
</form>

