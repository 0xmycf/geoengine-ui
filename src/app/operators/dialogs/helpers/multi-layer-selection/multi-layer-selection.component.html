<div fxLayout="row">
    <wave-dialog-section-heading [title]="title" subtitle="Select input {{title}}"></wave-dialog-section-heading>
    <div fxFlex fxLayout="row" fxLayoutAlign="end">
        <button md-button color="primary"
                (click)="$event.preventDefault();add()"
                *ngIf="max - min > 0"
                [disabled]="(selectedLayers | async).length >= max || (filteredLayers | async).length <= 0"
        ><md-icon>add_circle_outline</md-icon></button>
        <button md-button color="primary"
                (click)="$event.preventDefault();remove()"
                *ngIf="max - min > 0"
                [disabled]="(selectedLayers | async).length <= min || (filteredLayers | async).length <= 0"
        ><md-icon>remove_circle_outline</md-icon></button>
    </div>
</div>
<div *ngIf="(filteredLayers | async).length > 0; else noInputAvailable" fxLayout="column">
    <md-select
        *ngFor="let selectedLayer of selectedLayers | async; let i = index"
        placeholder="Input {{toLetters(i)}}"
        [ngModel]="selectedLayer" (ngModelChange)="updateLayer(i, $event)"
        (onBlur)="onBlur()"
        fxFlex
    >
        <md-option *ngFor="let layer of filteredLayers | async" [value]="layer">{{layer.name}}</md-option>
    </md-select>
</div>
<ng-template #noInputAvailable>
    <p>No Input Available</p>
</ng-template>
