<wave-sidenav-header>New Project</wave-sidenav-header>
<template [ngIf]="!(created$ | async)">
<p>
    Create a new, blank project.
</p>
<form [formGroup]="form" (ngSubmit)="$event.preventDefault();create()">
    <div fxLayout="row">
        <md-input-container fxFlex>
            <input mdInput type="text" placeholder="Project Name" formControlName="name">
            <md-hint class="error" *ngIf="form.controls.name.errors?.nameInUsage">The name is already in usage.</md-hint>
        </md-input-container>
    </div>
    <div fxLayout="row">
        <md-select placeholder="Projection" formControlName="projection" fxFlex>
            <md-option *ngFor="let projection of Projections.ALL_PROJECTIONS" [value]="projection">{{projection}}</md-option>
        </md-select>
    </div>
    <button md-raised-button color="primary" type="submit" [disabled]="(form.statusChanges | async) !== 'VALID'">Create</button>
</form>
</template>
<template [ngIf]="created$ | async">
    <p class="finished">
        Created project <em>{{form.controls['name'].value}}</em> and switched to it.
        <br><br>
        You are ready to go!
    </p>
</template>
